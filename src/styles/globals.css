/* ============================================
   FONTS
   ============================================ */
@font-face {
   font-family: 'Instrument Serif';
   src: url('../fonts/Instrument_Serif/InstrumentSerif-Regular.ttf') format('truetype');
   font-weight: 400;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'Instrument Serif';
   src: url('../fonts/Instrument_Serif/InstrumentSerif-Italic.ttf') format('truetype');
   font-weight: 400;
   font-style: italic;
   font-display: swap;
}

@font-face {
   font-family: 'Inter Display';
   src: url('../fonts/inter-display/ttf/InterDisplay-Regular.ttf') format('truetype');
   font-weight: 400;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'Inter Display';
   src: url('../fonts/inter-display/ttf/InterDisplay-Medium.ttf') format('truetype');
   font-weight: 500;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'Inter Display';
   src: url('../fonts/inter-display/ttf/InterDisplay-SemiBold.ttf') format('truetype');
   font-weight: 600;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'Inter Display';
   src: url('../fonts/inter-display/ttf/InterDisplay-Bold.ttf') format('truetype');
   font-weight: 700;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'UXUM Grotesque';
   src: url('../fonts/uxum-grotesque-font-family-1762312633-0/uxumlight.otf') format('opentype');
   font-weight: 300;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'UXUM Grotesque';
   src: url('../fonts/uxum-grotesque-font-family-1762312633-0/uxumregular.otf') format('opentype');
   font-weight: 400;
   font-style: normal;
   font-display: swap;
}

@font-face {
   font-family: 'UXUM Grotesque';
   src: url('../fonts/uxum-grotesque-font-family-1762312633-0/uxumbold.otf') format('opentype');
   font-weight: 700;
   font-style: normal;
   font-display: swap;
}

/* ============================================
   CSS VARIABLES
   ============================================ */
:root {
   /* Base width for conversion (Figma design width) */
   --base-width: 1440;
   --base-width-tablet: 1024;
   --base-width-mobile: 390;
   /* Formula to convert px to vw: calc(px * 100vw / var(--base-width)) */
   /* Usage: width: calc(200 * 100vw / var(--base-width)); for 200px */

   /* Fonts */
   --font-sans: 'Inter Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
   --font-serif: 'Instrument Serif', Georgia, serif;
   --font-grotesque: 'UXUM Grotesque', -apple-system, BlinkMacSystemFont, sans-serif;

   /* Font Weights */
   --fw-light: 300;
   --fw-regular: 400;
   --fw-medium: 500;
   --fw-semibold: 600;
   --fw-bold: 700;

   /* ============================================
     COLOR TOKENS
     ============================================ */
   /* Text colors with alpha */
   --color-text-primary: rgba(255, 255, 255, 1);
   --color-text-secondary: rgba(255, 255, 255, 0.8);
   --color-text-muted: rgba(255, 255, 255, 0.7);
   --color-text-subtle: rgba(255, 255, 255, 0.5);
   --color-text-faint: rgba(255, 255, 255, 0.4);
   --color-text-ghost: rgba(255, 255, 255, 0.33);
   --color-text-barely: rgba(255, 255, 255, 0.22);
   --color-text-grey-67: rgba(233, 233, 233, 0.67);
   --color-text-grey: rgba(233, 233, 233, 1);

   /* Border colors */
   --color-border-light: rgba(255, 255, 255, 0.2);
   --color-border-medium: rgba(255, 255, 255, 0.13);
   --color-border-strong: rgba(255, 255, 255, 0.56);

   /* Background colors with alpha */
   --color-bg-glass: rgba(255, 255, 255, 0.1);
   --color-bg-glass-light: rgba(255, 255, 255, 0.11);
   --color-bg-overlay-dark: rgba(0, 0, 0, 0.75);
   --color-bg-overlay-medium: rgba(0, 0, 0, 0.6);
   --color-bg-overlay-light: rgba(0, 0, 0, 0.4);

   /* ============================================
     TRANSITION TOKENS
     ============================================ */
   --transition-fast: 0.2s ease;
   --transition-base: 0.3s ease;
   --transition-smooth: 0.3s ease-in-out;
}

/* ============================================
   RESET & BASE STYLES
   ============================================ */
*,
*::before,
*::after {
   margin: 0;
   padding: 0;
   box-sizing: border-box;
}

button {
   border: none;
   outline: none;
   cursor: pointer;
}

body {
   font-size: calc(16 * 100vw / var(--base-width));
   font-family: var(--font-grotesque);
   background-color: #000;
   color: #fff;
}

/* ============================================
   UTILITY CLASSES
   ============================================ */
.mobile-only {
   display: none;
}

.init-hidden {
   opacity: 0;
}

.init-blur-up {
   opacity: 0;
   transform: translateY(30px);
   filter: blur(5px);
}

.init-slide-up {
   opacity: 0;
   transform: translateY(30px);
}

.init-slide-up-sm {
   opacity: 0;
   transform: translateY(10px);
}

.init-scale {
   opacity: 0;
   transform: scale(0);
}

.init-scale-rotate {
   opacity: 0;
   transform: scale(0) rotate(-180deg);
}

.init-clip-right {
   clip-path: inset(0 100% 0 0);
}

.desktop-only {
   display: none;
}

.desktop-and-tablet-only {
   display: none;
}

.strong-mobile-only {
   display: none;
}


@media (max-width: 1024px) {
   .mobile-only {
      display: unset;
   }
}

@media (max-width: 767px) {
   .desktop-and-tablet-only {
      display: none;
   }

   .strong-mobile-only {
      display: unset;
   }
}

@media (min-width: 768px) {
   .desktop-and-tablet-only {
      display: unset;
   }
}

@media (min-width: 1025px) {
   .desktop-only {
      display: unset;
   }
}

/* ============================================
   FULLPAGE.JS STYLES
   ============================================ */
#fullpage {
   position: relative;
}

.fp-section {
   position: relative;
   width: 100%;
   height: 100vh !important;
   min-height: 100vh;
   overflow: hidden;
}


/* Навигация FullPage */
#fp-nav {
   z-index: 999;
}

#fp-nav ul li a span,
.fp-slidesNav ul li a span {
   background: rgba(255, 255, 255, 0.5);
}

#fp-nav ul li a.active span,
.fp-slidesNav ul li a.active span,
#fp-nav ul li:hover a.active span,
.fp-slidesNav ul li:hover a.active span {
   background: rgba(255, 255, 255, 1);
}

/* Убираем background-attachment: fixed для секций внутри FullPage,
   так как это может конфликтовать с FullPage.js */
.fp-section .section {
   background-attachment: scroll !important;
}

/* Секции с normalScroll - используем авто-высоту через CSS */
.fp-section[data-normal-scroll='true'] {
   height: auto !important;
   min-height: 100vh;
}


.fp-section[data-normal-scroll='true'] .section {
   height: fit-content !important;
   min-height: 100vh;
}

/* Контейнеры с normalScroll - позволяют нормальную прокрутку внутри */
/* Эти элементы добавлены в normalScrollElements FullPage.js */
.normal-scroll-container {
   height: fit-content;
   min-height: 100vh;
}

/* Оптимизация для Chrome - улучшаем производительность backdrop-filter */
/* Chrome имеет проблемы с backdrop-filter + transform одновременно */
.chrome-browser .fp-section .blured,
.chrome-browser .fp-section .secondary {
   /* Оптимизации для Chrome - создаем отдельный композитинг слой */
   backface-visibility: hidden;
   -webkit-backface-visibility: hidden;
   /* Используем GPU для backdrop-filter в Chrome */
   transform: translateZ(0);
   -webkit-transform: translateZ(0);
}

@media (max-width: 1024px) {
   .fp-section {
      height: 100svh !important;
      min-height: 100svh;
      max-height: 100svh;
   }

   .fp-section[data-normal-scroll='true'] {
      min-height: 100svh;
   }

   .fp-section[data-normal-scroll='true'] .section {
      min-height: 100svh;
   }

   .normal-scroll-container {
      min-height: 100svh;
   }
}


/* ============================================
   REDUCED MOTION - Accessibility & Performance
   ============================================ */
@media (prefers-reduced-motion: reduce) {

   *,
   *::before,
   *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
   }
}

/* ============================================
   ANIMATED BORDER (Ported from Sphere)
   ============================================ */
@property --angle {
   syntax: '<angle>';
   initial-value: 0deg;
   inherits: false;
}

@keyframes rotate-border {
   to {
      --angle: 360deg;
   }
}

.gradient-border-mask {
   position: relative;
   /* Ensure it works even if not set elsewhere */
}

.gradient-border-mask::before {
   content: '';
   position: absolute;
   inset: 0;
   border: 1px solid transparent !important;
   border-radius: inherit;
   background: repeating-conic-gradient(from var(--angle),
         #ffffff 37.5%,
         #ffffff 43.75%,
         #000000 46.25% 78.75%,
         #ffffff 81.25%,
         #ffffff 87.5%) border-box;
   -webkit-mask:
      linear-gradient(#fff 0 0) padding-box,
      linear-gradient(#fff 0 0);
   mask:
      linear-gradient(#fff 0 0) padding-box,
      linear-gradient(#fff 0 0);
   -webkit-mask-composite: destination-out;
   mask-composite: exclude;
   animation: rotate-border 8s linear infinite;
   pointer-events: none;
   opacity: 0.5;
   /* Ensure clicks pass through */
   z-index: 2;
   /* Place on top of background but below interactive content if needed */
}

@media (max-width: 1024px) {
   body {
      font-size: calc(16 * 100vw / var(--base-width-tablet));
   }
}